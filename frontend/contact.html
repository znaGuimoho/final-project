{% extends 'base.html' %}{% block head %}
<link rel="stylesheet" href="/frontend/css/conatact.css" />
{% endblock %}{% block content %}
<div class="app-container">
  <div class="sidebar">
    <div class="sidebar-header">
      <h2>Messages</h2>
      <button class="new-message-btn">+ New</button>
    </div>

    <div class="search-bar-for-contact">
      <input type="text" placeholder="Search messages..." />
    </div>

    <div class="conversations-list">
      <div class="conversation-item active">
        <div class="avatar">JD</div>
        <div class="conversation-info">
          <div class="conversation-header">
            <span class="conversation-name">John Doe</span>
            <span class="conversation-time">2:30 PM</span>
          </div>
          <div class="conversation-preview">Hey, how are you doing?</div>
        </div>
      </div>
    </div>
  </div>

  <div class="chat-container">
    <div class="chat-header">
      <div class="avatar">{{ hoster_name[0]|upper }}</div>
      <div class="chat-header-info">
        <h3>{{ hoster_name }}</h3>
        <p>Active now</p>
      </div>
    </div>

    <div class="messages-area" id="messagesArea">
      {% for msg in messages %} {% if msg.sender_role == "hoster" %}
      <div class="message received">
        <div class="message-avatar">{{ msg.hoster[0]|upper }}</div>
        <div class="message-content">
          <div class="message-bubble">{{ msg.message }}</div>
          <div class="message-time">{{ msg.timestamp }}</div>
        </div>
      </div>
      {% else %}
      <div class="message sent">
        <div class="message-content">
          <div class="message-bubble">{{ msg.message }}</div>
          <div class="message-time">{{ msg.timestamp }}</div>
        </div>
      </div>
      {% endif %} {% endfor %}
    </div>

    <div class="message-input-container">
      <input
        type="text"
        class="message-input"
        id="messageInput"
        placeholder="Type a message..." />
      <button class="send-btn" id="sendBtn">âž¤</button>
    </div>
  </div>
</div>
<script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
<script>
  const ROOM_CODE = "{{ code }}";
</script>
<script src="/frontend/script/contact.js"></script>
{%endblock %}
